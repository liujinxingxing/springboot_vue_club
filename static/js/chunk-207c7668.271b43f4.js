(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-207c7668"],{"482b":function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"module-login"}},[o("div",{staticClass:"login-bg login-bg-tl"}),o("div",{staticClass:"login-bg login-bg-tr"}),o("div",{staticClass:"login-bg login-bg-bt"}),o("div",{staticClass:"login-contaniter"},[o("div",{staticClass:"login-contaniter-header"},[o("div",{staticClass:"title-cn"},[e._v(e._s(e.render.title))]),o("div",{staticClass:"title-en"},[e._v(e._s(e.render.subtitle))])]),o("div",{staticClass:"login-form"},[o("el-form",{ref:"loginForm",attrs:{model:e.loginInfo,rules:e.render.loginFormRules}},[o("el-form-item",{attrs:{prop:"account"}},[o("el-input",{attrs:{size:"medium",placeholder:e.render.placeholder.account,icon:"a fa fa-user-o"},model:{value:e.loginInfo.account,callback:function(t){e.$set(e.loginInfo,"account",t)},expression:"loginInfo.account"}},[o("template",{slot:"prepend"},[e._v(e._s(e.render.form.account))])],2)],1),o("el-form-item",{attrs:{prop:"password"}},[o("el-input",{attrs:{size:"medium",type:"password",placeholder:e.render.placeholder.password,"show-password":""},model:{value:e.loginInfo.password,callback:function(t){e.$set(e.loginInfo,"password",t)},expression:"loginInfo.password"}},[o("template",{slot:"prepend"},[e._v(e._s(e.render.form.password))])],2)],1),o("el-form-item",{attrs:{prop:"vacode"}},[o("el-row",{staticClass:"valid-code"},[o("el-col",{attrs:{span:14}},[o("el-input",{attrs:{size:"medium",placeholder:e.render.placeholder.vacode},model:{value:e.loginInfo.vacode,callback:function(t){e.$set(e.loginInfo,"vacode",t)},expression:"loginInfo.vacode"}},[o("template",{slot:"prepend"},[e._v(e._s(e.render.form.vacode))])],2)],1),o("el-col",{attrs:{span:10}},[o("div",{staticClass:"valid-img"},[o("img",{attrs:{src:e.vacodeUrl},on:{click:function(t){return e.getCodeUrl(111,34)}}})])])],1)],1),o("el-form-item",[o("el-radio-group",{model:{value:e.loginInfo.realm,callback:function(t){e.$set(e.loginInfo,"realm",t)},expression:"loginInfo.realm"}},[o("el-radio-button",{attrs:{label:"normal"}},[e._v(e._s(e.render.form.radio.normal))]),o("el-radio-button",{attrs:{label:"vip"}},[e._v(e._s(e.render.form.radio.vip))]),o("el-radio-button",{attrs:{label:"admin"}},[e._v(e._s(e.render.form.radio.admin))])],1)],1),o("el-form-item",[o("el-button",{staticClass:"login-btn",attrs:{type:"login",disabled:e.btnState},on:{click:e.handleLogin}},[e._v(e._s(e.render.form.btn))])],1)],1)],1)])])},a=[],r=(o("5319"),o("ac1f"),o("498a"),o("2226")),l=(o("4328"),o("1c46")),s=o.n(l),i={name:"auth",data:function(){return{loginInfo:{account:"",password:"",vacode:"",realm:"normal"},vacodeUrl:"",btnState:!1}},computed:{render:function(){return this.$store.state.render.login}},mounted:function(){this.getCodeUrl(111,34)},methods:{getCodeUrl:function(e,t){this.loginInfo.vacode="",this.vacodeUrl=r["a"].auth.code+"?width="+e+"&height="+t+"&d="+Math.random()},handleLogin:function(){var e=this;this.btnState=!0,this.$refs["loginForm"].validate((function(t){if(!t)return e.btnState=!0,!1;var o=r["a"].auth.signIn.replace(/\$\{code\}/g,e.loginInfo.vacode);o=o.replace(/\$\{realm\}/g,e.loginInfo.realm),e.$fetch(o,{account:e.loginInfo.account.trim(),password:s.a.createHash("sha256").update(e.loginInfo.password.trim()).digest("hex")},{headers:{"Content-Type":"application/json"}}).then((function(t){if(e.btnState=!1,t.success)return e.$store.commit("setUser",t.data),t.data.admin?void e.$router.push({name:"manager"}):void e.$router.push({name:"club"});e.getCodeUrl(111,34),e.$message({type:"error",message:t.message})}))}))}}},d=i,c=(o("bc28"),o("2877")),u=Object(c["a"])(d,n,a,!1,null,null,null);t["default"]=u.exports},a28e:function(e,t,o){},bc28:function(e,t,o){"use strict";o("a28e")}}]);